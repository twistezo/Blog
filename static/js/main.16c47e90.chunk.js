(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{48:function(e,t,n){e.exports=n(73)},72:function(e,t,n){},73:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),s=n(32),c=n.n(s),o=n(12),i=n(15),l=n(42),u=n(20),m=n(6),f=function e(){Object(m.a)(this,e)};f.randomArrayItem=function(e){return e[Math.floor(Math.random()*e.length)]},f.isNullEmptyOrUndefinded=function(e){return null===e||e===[]||void 0===e||0===e.length},f.arrayFromArrayRandomItems=function(e){return Array.from(e).filter(function(){return f.randomBoolean()})},f.randomBoolean=function(){return Math.random()>=.5},f.arrayContainsAllElementsFromAnother=function(e,t){return t.map(function(t){return e.some(function(e){return e===t})}).every(function(e){return e})};var p=f,h=function e(){Object(m.a)(this,e)};h.sortPostsByDateDesc=function(e){return e.sort(function(e,t){return new Date(t.date)-new Date(e.date)})},h.unwrapTagsFromPosts=function(e){var t=Array.from(e.map(function(e){return e.tags}).flat()),n=Array.from(new Set(t)),a=[];return n.forEach(function(e){return a.push({name:e,quantity:t.filter(function(t){return t===e}).length,state:!1})}),a},h.switchTagState=function(e,t){var n=t.find(function(t){return t.name===e});return n.state=!n.state,t},h.filterPostsBy=function(e,t){var n=t.tags,a=t.dates,r=t.searchValue,s=[],c=n.filter(function(e){return e.state}).map(function(e){return e.name});s=e.filter(function(e){return p.arrayContainsAllElementsFromAnother(e.tags,c)&&e.title.toLowerCase().includes(r.toLowerCase())});var o=a.filter(function(e){return e.yearState}).map(function(e){return e.year});0!==o.length&&(s=s.filter(function(e){return p.arrayContainsAllElementsFromAnother(o,[e.date.getFullYear()])}));var i=a.map(function(e){return e.months.map(function(t){return{year:e.year,month:t.name,state:t.state}}).flat()}).flat().filter(function(e){return e.state});return 0!==i.length&&(s=s.filter(function(e){return i.some(function(t){return t.year===e.date.getFullYear()})&&i.some(function(t){return t.month===h.monthNameFromDate(e.date)})})),s},h.unwrapDatesFromPosts=function(e){var t=Array.from(new Set(e.map(function(e){return e.date.getFullYear()}))),n=[];return t.forEach(function(t){return n.push({year:t,yearState:!1,months:Array.from(new Set(e.filter(function(e){return e.date.getFullYear()===t}).map(function(e){return h.monthNameFromDate(e.date)}))).map(function(n){return{name:n,quantity:h.postsQuantityByDate(e,n,t),state:!1}})})}),n},h.postsQuantityByDate=function(e,t,n){return e.filter(function(e){return e.date.getFullYear()===n&&h.monthNameFromDate(e.date)===t}).length},h.monthNameFromDate=function(e){return e.toLocaleString("en-us",{month:"long"})},h.switchDateState=function(e,t){if(void 0===e.month){var n=t.find(function(t){return t.year===e.year});n.yearState=!n.yearState,t.forEach(function(e){return e.months.forEach(function(e){return e.state=!1})})}else{var a=t.find(function(t){return t.year===e.year}).months.find(function(t){return t.name===e.month});a.state=!a.state,t.forEach(function(e){return e.yearState=!1})}return t};var d=h,E=Object(i.c)({tags:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"UNWRAP_TAGS":return Object(u.a)(d.unwrapTagsFromPosts(t.posts));case"SWITCH_TAG":return Object(u.a)(d.switchTagState(t.tagName,e));default:return e}},dates:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"UNWRAP_DATES":return Object(u.a)(d.unwrapDatesFromPosts(t.posts));case"SWITCH_DATE_STATE":return Object(u.a)(d.switchDateState(t.date,e));default:return e}},searchValue:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"HANDLE_SEARCH_INPUT":return t.value;default:return e}}}),y=Object(i.c)({posts:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_POSTS":return Object(u.a)(d.sortPostsByDateDesc(t.posts));default:return e}},filteredPosts:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FILTER_POSTS":return Object(u.a)(d.filterPostsBy(t.posts,t.filters));default:return e}},filters:E}),g=function(e,t){return{type:"FILTER_POSTS",posts:e,filters:t}},b=n(7),v=n(10),O=n(8),j=n(9),w=n(43),N=n.n(w),S=n(44),k=n.n(S),C=function(){function e(t,n,a,r,s,c){Object(m.a)(this,e),this._id=t,this._title=n,this._text=a,this._author=r,this._date=s,this._tags=c}return Object(b.a)(e,[{key:"id",get:function(){return this._id}},{key:"title",get:function(){return this._title}},{key:"text",get:function(){return this._text}},{key:"author",get:function(){return this._author}},{key:"date",get:function(){return this._date}},{key:"tags",get:function(){return this._tags}}]),e}(),T=function e(){var t=this;Object(m.a)(this,e),this._generate=function(e){for(var n=new N.a,a=0;a<e;a++)t._data.push(new C(k()(),n.sentence({words:10}),n.paragraph({sentences:20}),"twistezo",n.date({string:!1,american:!1,year:p.randomArrayItem([2017,2018,2019])}),p.arrayFromArrayRandomItems(t._tags)));return p.isNullEmptyOrUndefinded(t._data)?new Error("Generate data failed."):t._data},this.fetch=function(e){return new Promise(function(n,a){var r=t._generate(e);r instanceof Error?a(new Error("Error while fetching data. The data seems to be broken.")):n(r)})},this._data=[],this._tags=["#javascript","#css","#rust","#webpack","#cargo"]},A=n(79),P=n(74),_=n(78),D=n(75),F=n(46),x=function(e){function t(){var e,n;Object(m.a)(this,t);for(var a=arguments.length,r=new Array(a),s=0;s<a;s++)r[s]=arguments[s];return(n=Object(v.a)(this,(e=Object(O.a)(t)).call.apply(e,[this].concat(r)))).handleSearchFormInputChange=function(e){var t=e.target.value;n.props.handleSearchInput(t);var a=Object.assign({},n.props.filters);a.searchValue=t,n.props.filterPosts(n.props.posts,a)},n}return Object(j.a)(t,e),Object(b.a)(t,[{key:"render",value:function(){return r.a.createElement(_.a,{inline:!0},r.a.createElement(F.a,{className:"mr-sm-2",name:"search",type:"text",placeholder:"search",onChange:this.handleSearchFormInputChange}),r.a.createElement("i",{className:"fas fa-search"}))}}]),t}(a.Component),I={filterPosts:g,handleSearchInput:function(e){return{type:"HANDLE_SEARCH_INPUT",value:e}}},B=Object(o.b)(function(e){return{posts:e.posts,filters:e.filters}},I)(x),L=function(e){function t(){return Object(m.a)(this,t),Object(v.a)(this,Object(O.a)(t).apply(this,arguments))}return Object(j.a)(t,e),Object(b.a)(t,[{key:"render",value:function(){return r.a.createElement(A.a,{bg:"dark",variant:"dark",className:"sticky-top text-center"},r.a.createElement(P.a,null,r.a.createElement(A.a.Brand,{href:"/"},"Blog"),r.a.createElement(B,null),r.a.createElement(_.a,{inline:!0},r.a.createElement(D.a,{variant:"outline-info"},"Sign in"))))}}]),t}(a.Component),R=n(77),W=function(e){function t(){return Object(m.a)(this,t),Object(v.a)(this,Object(O.a)(t).apply(this,arguments))}return Object(j.a)(t,e),Object(b.a)(t,[{key:"render",value:function(){return r.a.createElement(P.a,null,r.a.createElement("h4",null,"About Me"))}}]),t}(a.Component),H=n(80),U=n(76),q=function(e){function t(){var e,n;Object(m.a)(this,t);for(var a=arguments.length,s=new Array(a),c=0;c<a;c++)s[c]=arguments[c];return(n=Object(v.a)(this,(e=Object(O.a)(t)).call.apply(e,[this].concat(s)))).onTagClick=function(e,t){n.props.switchTagState(t),n.props.filterPosts(n.props.posts,n.props.filters),e.preventDefault()},n.Tags=function(){var e=n.props.filters.tags;return e.length>0?e.map(function(e){return r.a.createElement(H.a.Link,{className:"mr-2",key:e.name,onClick:function(t){return n.onTagClick(t,e.name)}},e.name,e.state?r.a.createElement("i",{className:"far fa-check-square ml-2"}):r.a.createElement(U.a,{variant:"secondary",className:"ml-2"},e.quantity))}):""},n}return Object(j.a)(t,e),Object(b.a)(t,[{key:"render",value:function(){return r.a.createElement(P.a,null,r.a.createElement("div",null,r.a.createElement("h4",null,"Tags"),r.a.createElement("p",{className:"d-flex flex-wrap"},r.a.createElement(this.Tags,null))))}}]),t}(a.Component),M={switchTagState:function(e){return{type:"SWITCH_TAG",tagName:e}},filterPosts:g},G=Object(o.b)(function(e){return{posts:e.posts,filters:e.filters}},M)(q),Y=function(e){function t(){var e,n;Object(m.a)(this,t);for(var a=arguments.length,s=new Array(a),c=0;c<a;c++)s[c]=arguments[c];return(n=Object(v.a)(this,(e=Object(O.a)(t)).call.apply(e,[this].concat(s)))).onDateClick=function(e,t,a){n.props.switchDateState({year:t,month:a}),n.props.filterPosts(n.props.posts,n.props.filters),e.preventDefault()},n.Dates=function(){var e=n.props.filters.dates;return e.length>0?e.map(function(e){return r.a.createElement("ul",{key:e.year,className:"list-unstyled"},r.a.createElement(H.a.Link,{onClick:function(t){return n.onDateClick(t,e.year)}},e.year,e.yearState?r.a.createElement("i",{className:"far fa-check-square ml-2"}):""),e.months.map(function(t){return r.a.createElement("li",{key:t.name},r.a.createElement(H.a.Link,{onClick:function(a){return n.onDateClick(a,e.year,t.name)}},t.name,t.state?r.a.createElement("i",{className:"far fa-check-square ml-2"}):r.a.createElement(U.a,{variant:"secondary",className:"ml-2"},t.quantity)))}))}):""},n}return Object(j.a)(t,e),Object(b.a)(t,[{key:"render",value:function(){return r.a.createElement(P.a,null,r.a.createElement("h4",null,"Archive posts"),r.a.createElement(this.Dates,null))}}]),t}(a.Component),V={filterPosts:g,switchDateState:function(e){return{type:"SWITCH_DATE_STATE",date:e}}},z=Object(o.b)(function(e){return{posts:e.posts,filters:e.filters}},V)(Y),J=function(e){function t(){return Object(m.a)(this,t),Object(v.a)(this,Object(O.a)(t).apply(this,arguments))}return Object(j.a)(t,e),Object(b.a)(t,[{key:"render",value:function(){return r.a.createElement(P.a,null,r.a.createElement(R.a,{className:"pb-2"},r.a.createElement(W,null)),r.a.createElement(R.a,{className:"pb-2"},r.a.createElement(G,null)),r.a.createElement(R.a,{className:"pb-2"},r.a.createElement(z,null)))}}]),t}(a.Component),Q=function(e){function t(){return Object(m.a)(this,t),Object(v.a)(this,Object(O.a)(t).apply(this,arguments))}return Object(j.a)(t,e),Object(b.a)(t,[{key:"render",value:function(){var e=this.props.post;return r.a.createElement(P.a,{className:"mb-2"},r.a.createElement("div",{className:"card mb-3"},r.a.createElement("div",{className:"row no-gutters"},r.a.createElement("div",{className:"col-md-3 d-flex flex-wrap align-items-center"},r.a.createElement(P.a,null,r.a.createElement("img",{src:"https://avatars.dicebear.com/v2/identicon/twistezo.svg",className:"card-img",alt:""}))),r.a.createElement("div",{className:"col-md-9"},r.a.createElement("div",{className:"card-body"},r.a.createElement("h5",{className:"card-title"},e.title),r.a.createElement("p",{className:"card-text"},e.text.substring(0,200)+" ..."),r.a.createElement("span",{className:"card-text"},r.a.createElement("p",{className:"text-muted mb-0"},e.author+", "+e.date.toLocaleString("pl-PL",{day:"numeric",month:"numeric",year:"numeric"})),r.a.createElement("p",{className:"text-muted mb-0"},e.tags.map(function(e){return r.a.createElement("span",{key:e,className:"pr-2"},e)}))))))))}}]),t}(a.Component),$=function(e){function t(){var e,n;Object(m.a)(this,t);for(var a=arguments.length,s=new Array(a),c=0;c<a;c++)s[c]=arguments[c];return(n=Object(v.a)(this,(e=Object(O.a)(t)).call.apply(e,[this].concat(s)))).PostCards=function(){return n.props.filteredPosts.map(function(e){return r.a.createElement(Q,{key:e.id,post:e})})},n.EmptyResult=function(){return r.a.createElement("div",{className:"text-center pt-5"},r.a.createElement("div",{className:"pb-2"},r.a.createElement("h2",null,"Nothing here...")))},n}return Object(j.a)(t,e),Object(b.a)(t,[{key:"render",value:function(){return r.a.createElement(P.a,null,0!==this.props.filteredPosts.length?r.a.createElement(this.PostCards,null):r.a.createElement(this.EmptyResult,null))}}]),t}(a.Component),K=Object(o.b)(function(e){return{filteredPosts:e.filteredPosts}})($),X=n(47),Z=function(e){function t(){var e;return Object(m.a)(this,t),(e=Object(v.a)(this,Object(O.a)(t).call(this))).ErrorContainer=function(){return r.a.createElement("div",{className:"text-center pt-5"},r.a.createElement("div",{className:"pb-2"},r.a.createElement("h2",null,"Error. Please reload the page."),r.a.createElement("h5",null,'Error message: "',e.state.error.message,'"')))},e.WaitContainer=function(){return r.a.createElement("div",{className:"text-center pt-5"},r.a.createElement("div",{className:"pb-2"},r.a.createElement("h2",null,"Downloading data...")))},e.MainContainer=function(){return r.a.createElement("div",null,r.a.createElement(L,null),r.a.createElement(P.a,null,r.a.createElement(R.a,{className:"pt-5"},r.a.createElement(X.a,{sm:3},r.a.createElement(J,null)),r.a.createElement(X.a,{sm:9},r.a.createElement(K,null)))))},e.state={error:{occured:!1,message:""}},e}return Object(j.a)(t,e),Object(b.a)(t,[{key:"componentDidMount",value:function(){var e=this;(new T).fetch(10).then(function(t){e.props.fetchPosts(t)}).then(function(){e.props.unwrapTags(e.props.posts),e.props.unwrapDates(e.props.posts)}).then(function(){e.props.filterPosts(e.props.posts,e.props.filters)}).catch(function(t){e.setState({error:{occured:!0,message:t.message}})})}},{key:"render",value:function(){return 0===this.props.posts.length||this.state.error.occured?this.state.error.occured?r.a.createElement(this.ErrorContainer,null):r.a.createElement(this.WaitContainer,null):r.a.createElement(this.MainContainer,null)}}]),t}(a.Component),ee={fetchPosts:function(e){return{type:"FETCH_POSTS",posts:e}},filterPosts:g,unwrapTags:function(e){return{type:"UNWRAP_TAGS",posts:e}},unwrapDates:function(e){return{type:"UNWRAP_DATES",posts:e}}},te=Object(o.b)(function(e){return{posts:e.posts,filters:e.filters}},ee)(Z);n(72),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var ne=Object(i.d)(y,Object(i.a)(l.a));window.store=ne,c.a.render(r.a.createElement(o.a,{store:ne},r.a.createElement(te,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[48,1,2]]]);
//# sourceMappingURL=main.16c47e90.chunk.js.map
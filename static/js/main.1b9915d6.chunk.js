(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{122:function(e,t,a){e.exports=a(405)},375:function(e,t,a){},404:function(e,t,a){},405:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(29),l=a.n(s),o=a(19),i=a(39),c=a(113),m=a(33),u=a(13),d=a(7),p=a(59),h=a.n(p),f=a(114),E=a.n(f),g=a(40),b=a.n(g);a(182),a(187);b.a.initializeApp({apiKey:"AIzaSyBU_CK4oTRzwPIOjZWQn8tpF5kOcnESnps",authDomain:"twistezo-blog.firebaseapp.com",databaseURL:"https://twistezo-blog.firebaseio.com",projectId:"twistezo-blog",storageBucket:"twistezo-blog.appspot.com",messagingSenderId:"1065707028990"});var v=b.a,y=b.a.firestore(),N=a(115),O=a.n(N),j=(a(375),a(9)),w=function(){function e(t,a,n,r,s,l,o,i){Object(d.a)(this,e),this._id=t,this._title=a,this._shortDescription=n,this._text=r,this._author=s,this._date=l,this._tags=o,this._mainImage=i}return Object(j.a)(e,[{key:"id",get:function(){return this._id}},{key:"title",get:function(){return this._title}},{key:"shortDescription",get:function(){return this._shortDescription}},{key:"text",get:function(){return this._text}},{key:"author",get:function(){return this._author}},{key:"date",get:function(){return this._date},set:function(e){this._date=e}},{key:"tags",get:function(){return this._tags}},{key:"mainImage",get:function(){return this._mainImage}}]),e}(),S=a(60),C=a.n(S),P=function e(){var t=this;Object(d.a)(this,e),this._generate=function(e){for(var a=new h.a,n=I.generateExampleMarkdownPost(),r=0;r<e;r++)t._data.push(new w(C()(),n.title,n.shortDescription,n.text,"twistezo",a.date({string:!1,american:!1,year:I.randomArrayItem([2016,2017,2018])}),I.arrayFromArrayRandomItems(t._tags),"https://avatars.dicebear.com/v2/identicon/"+a.word({length:15})+".svg"));return I.isNullEmptyOrUndefinded(t._data)?new Error("Generate data failed."):t._data},this.fetch=function(e){return new Promise(function(a,n){var r=t._generate(e);r instanceof Error?n(new Error("Error while fetching data. The data seems to be broken.")):a(r)})},this._data=[],this._tags=["#javascript","#css","#rust","#webpack","#cargo"]},k=function e(){Object(d.a)(this,e)};k.randomArrayItem=function(e){return e[Math.floor(Math.random()*e.length)]},k.isNullEmptyOrUndefinded=function(e){return null===e||e===[]||void 0===e||0===e.length},k.arrayFromArrayRandomItems=function(e){var t=Array.from(e).filter(function(){return k.randomBoolean()});return 0===t.length?[e[0]]:t},k.randomBoolean=function(){return Math.random()>=.5},k.arrayContainsAllElementsFromAnother=function(e,t){return t.map(function(t){return e.some(function(e){return e===t})}).every(function(e){return e})},k.nextArrayItem=function(e,t){return e[(t+1)%e.length]},k.getEmailPrefix=function(e){return e.slice(0,e.indexOf("@"))},k.convertSentenceToTagsArray=function(e){return null!==e&&void 0!==e&&""!==e?e.split(" ").map(function(e){return"#"+e}):[]},k.convertTagsArrayToSentence=function(e){return e.map(function(e){return e.slice(1)}).join(" ")},k.generateExampleMarkdownPost=function(){var e=new h.a,t=function(t){return e.sentence({words:t})},a=function(t){return e.paragraph({sentences:t})},n=function(t){return e.word({length:t})},r="https://avatars.dicebear.com/v2/identicon/".concat(n(15),".svg");return{title:t(6),shortDescription:a(3),text:"### ".concat(t(6),"\n    \n ").concat(a(10),"\n    \n![Alt Text](").concat(r," =200x200)\n    \nPhoto: *").concat(t(6),"*\n    \n### ").concat(t(6),"\n    \n").concat(a(6),"\n    \n").concat(n()," ").concat(n(),":\n    \n* ").concat(n(),"\n    \n* ").concat(n(),"\n    \n* ").concat(n(),"\n    \n### ").concat(t(6),"\n    \nSome code:\n    \n\n    ```\n    function resolveAfter2Seconds() {\n      return new Promise(resolve => {\n        setTimeout(() => {\n          resolve('resolved');\n        }, 2000);\n      });\n    }\n    \n    async function asyncCall() {\n      console.log('calling');\n      var result = await resolveAfter2Seconds();\n      console.log(result);\n      // expected output: 'resolved'\n    }\n    \n    asyncCall();\n    ```\n    \nVisit: <http://www.example.com>\n    "),randomImageSrc:r,tags:["#rust","#java","#scss"]}},k.convertMarkdownToHtml=function(e){return new E.a.Converter({noHeaderId:!0}).makeHtml(e)},k.updateCodeSyntaxHighlighting=function(){document.querySelectorAll("pre code").forEach(function(e){O.a.highlightBlock(e)})},k.jsPostObjToFirestoreObj=function(e){return{id:e.id,title:e.title,shortDescription:e.shortDescription,text:e.text,author:e.author,date:v.firestore.Timestamp.fromDate(e.date),tags:e.tags,mainImage:e.mainImage}},k.firestorePostObjToJsOjb=function(e){return new w(e.id,e.title,e.shortDescription,e.text,e.author,e.date.toDate(),e.tags,e.mainImage)},k.addPostsToFirestore=function(e){(new P).fetch(e).then(function(e){e.forEach(function(e){y.collection("posts").doc(e.id).set(k.jsPostObjToFirestoreObj(e)).catch(function(e){return console.error("Skipping write document cause: ",e)})})}).catch(function(e){return console.log(e)})};var I=k,D=function e(){Object(d.a)(this,e)};D.sortPostsByDateDesc=function(e){return e.sort(function(e,t){return new Date(t.date)-new Date(e.date)})},D.unwrapTagsFromPosts=function(e){var t=Array.from(e.map(function(e){return e.tags}).flat()),a=Array.from(new Set(t)),n=[];return a.forEach(function(e){return n.push({name:e,quantity:t.filter(function(t){return t===e}).length,state:!1})}),n},D.switchTagState=function(e,t){var a=t.find(function(t){return t.name===e});return a.state=!a.state,t},D.filterPostsBy=function(e,t){var a=t.tags,n=t.dates,r=t.searchValue,s=[],l=a.filter(function(e){return e.state}).map(function(e){return e.name});s=e.filter(function(e){return I.arrayContainsAllElementsFromAnother(e.tags,l)&&e.title.toLowerCase().includes(r.toLowerCase())});var o=n.filter(function(e){return e.yearState}).map(function(e){return e.year});0!==o.length&&(s=s.filter(function(e){return I.arrayContainsAllElementsFromAnother(o,[e.date.getFullYear()])}));var i=n.map(function(e){return e.months.map(function(t){return{year:e.year,month:t.name,state:t.state}}).flat()}).flat().filter(function(e){return e.state});return 0!==i.length&&(s=s.filter(function(e){return i.some(function(t){return t.year===e.date.getFullYear()})&&i.some(function(t){return t.month===D.monthNameFromDate(e.date)})})),D.sortPostsByDateDesc(s)},D.unwrapDatesFromPosts=function(e){var t=Array.from(new Set(e.map(function(e){return e.date.getFullYear()}))),a=[];return t.forEach(function(t){return a.push({year:t,yearState:!1,months:Array.from(new Set(e.filter(function(e){return e.date.getFullYear()===t}).map(function(e){return D.monthNameFromDate(e.date)}))).map(function(a){return{name:a,quantity:D.postsQuantityByDate(e,a,t),state:!1}})})}),a},D.postsQuantityByDate=function(e,t,a){return e.filter(function(e){return e.date.getFullYear()===a&&D.monthNameFromDate(e.date)===t}).length},D.monthNameFromDate=function(e){return e.toLocaleString("en-us",{month:"long"})},D.switchDateState=function(e,t){if(void 0===e.month){var a=t.find(function(t){return t.year===e.year});a.yearState=!a.yearState,t.forEach(function(e){return e.months.forEach(function(e){return e.state=!1})})}else{var n=t.find(function(t){return t.year===e.year}).months.find(function(t){return t.name===e.month});n.state=!n.state,t.forEach(function(e){return e.yearState=!1})}return t},D.resetFilters=function(e){var t=Object.assign({},e);return t.tags.forEach(function(e){return e.state=!1}),t.dates.forEach(function(e){return e.yearState=!1}),t.dates.forEach(function(e){return e.months.forEach(function(e){return e.state=!1})}),t.searchValue="",t};var x=D,T={data:[],fetchingError:null},F={displayName:"",email:"",isSignedIn:!1,errorMessage:""},A={tags:[],dates:[],searchValue:""},_=Object(i.c)({posts:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:T,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"POSTS_FETCHED_SUCCESS":return Object(u.a)({},e,{data:Object(m.a)(x.sortPostsByDateDesc(t.posts)),fetchingError:null});case"POSTS_FETCHED_ERROR":return Object(u.a)({},e,{data:[],fetchingError:t.fetchingError});case"EDITED_POST_ID":return Object(u.a)({},e,{editedPostId:t.postId});default:return e}},filteredPosts:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FILTER_POSTS":return Object(m.a)(x.filterPostsBy(t.posts,t.filters));default:return e}},filters:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:A,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"UNWRAP_TAGS":return Object(u.a)({},e,{tags:Object(m.a)(x.unwrapTagsFromPosts(t.posts))});case"SWITCH_TAG":return Object(u.a)({},e,{tags:Object(m.a)(x.switchTagState(t.tagName,e.tags))});case"UNWRAP_DATES":return Object(u.a)({},e,{dates:Object(m.a)(x.unwrapDatesFromPosts(t.posts))});case"SWITCH_DATE_STATE":return Object(u.a)({},e,{dates:Object(m.a)(x.switchDateState(t.date,e.dates))});case"HANDLE_SEARCH_INPUT":return Object(u.a)({},e,{searchValue:t.value});case"RESET_FILTERS":return x.resetFilters(t.filters);default:return e}},auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:F,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SIGNED_IN":return Object(u.a)({},e,{isSignedIn:t.isSignedIn,errorMessage:t.errorMessage});case"FETCHED_USER_DATA":return Object(u.a)({},e,{displayName:t.displayName,email:t.email});default:return e}}}),M=function(e,t){return{type:"FILTER_POSTS",posts:e,filters:t}},R=function(e){return{type:"UNWRAP_TAGS",posts:e}},L=function(e){return{type:"UNWRAP_DATES",posts:e}},H=function(){return function(e,t){y.collection("posts").get().then(function(e){return e.docs.map(function(e){return I.firestorePostObjToJsOjb(e.data())})}).catch(function(e){return new Error("Errow while fetching posts. Error message: ",e)}).then(function(a){e(function(e){return{type:"POSTS_FETCHED_SUCCESS",posts:e}}(a)),e(R(a)),e(L(a)),e(M(a,t().filters))}).catch(function(t){return e({type:"POSTS_FETCHED_ERROR",fetchingError:t})})}},V=a(11),U=a(10),q=a(12),G=a(1),B=a.n(G),W=(B.a.shape({data:B.a.arrayOf(B.a.instanceOf(w)),fetchingError:B.a.string}),B.a.arrayOf(B.a.instanceOf(w)),B.a.arrayOf(B.a.instanceOf(w)),B.a.shape({tags:B.a.arrayOf(B.a.shape({name:B.a.string,quantity:B.a.number,state:B.a.bool})),dates:B.a.arrayOf(B.a.shape({months:B.a.arrayOf(B.a.shape({name:B.a.string,quantity:B.a.number,state:B.a.bool})),year:B.a.number,yearStare:B.a.bool})),searchValue:B.a.string}),B.a.shape({displayName:B.a.string,email:B.a.string,isSignedIn:B.a.bool,errorMessage:B.a.string}),a(414)),z=a(416),J=a(418),Y=a(407),$=a(118),Q=a(408),K=a(406),Z=a(413),X=a(417),ee=a(412),te=a(117),ae=function(e){function t(){var e,a;Object(d.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(V.a)(this,(e=Object(U.a)(t)).call.apply(e,[this].concat(r)))).handleSearchFormInputChange=function(e){var t=e.target.value;a.props.handleSearchInput(t);var n=Object.assign({},a.props.filters);n.searchValue=t,a.props.filterPosts(a.props.posts,n)},a}return Object(q.a)(t,e),Object(j.a)(t,[{key:"render",value:function(){return r.a.createElement(ee.a,{className:"order-2 flex-fill mr-3",inline:!0},r.a.createElement(K.a,{to:qe+"/search"},r.a.createElement(te.a,{className:"nav-search-input",name:"search",type:"text",value:this.props.filters.searchValue,placeholder:"search",onChange:this.handleSearchFormInputChange})),r.a.createElement("i",{className:"fas fa-search d-none d-sm-block"}))}}]),t}(n.Component),ne=a(45),re=a(411),se=function(e){function t(e){var a;return Object(d.a)(this,t),(a=Object(V.a)(this,Object(U.a)(t).call(this,e))).handleSignIn=function(){a.props.signIn(a.state.formData.email,a.state.formData.password).then(function(e){!1===e.isSignedIn&&""!==e.errorMessage?a.setState(Object(u.a)({},a.state,{formData:Object(u.a)({},a.state.formData,{password:""}),authFailed:!0})):(a.setState(Object(u.a)({},a.state,{authFailed:!1})),a.handleHideSignInModal())})},a.handleHideSignInModal=function(){a.props.onSignInFormHide()},a.handleFormInputChange=function(e){var t=e.target.name,n=e.target.value,r=!0===e.target.checkValidity(),s=Object(u.a)({},a.state.formValidation);s[t]=r,a.setState(function(){return{formData:Object(u.a)({},a.state.formData,Object(ne.a)({},t,n)),formValidation:s,isFormValid:Object.values(s).every(function(e){return!0===e}),isFieldValidated:!0}})},a.state={formData:{email:"",password:""},formValidation:{email:!1,password:!1},isFormValid:!1,isFormValidated:!1,authFailed:!1},a}return Object(q.a)(t,e),Object(j.a)(t,[{key:"render",value:function(){return r.a.createElement(re.a,{show:this.props.signInModalShow,onHide:this.props.onSignInFormHide,size:"sm","aria-labelledby":"contained-modal-title-vcenter",centered:!0},r.a.createElement(re.a.Header,{closeButton:!0},r.a.createElement(re.a.Title,{id:"contained-modal-title-vcenter"},"Sign in")),r.a.createElement(re.a.Body,null,r.a.createElement(ee.a,{className:"pt-3",validated:this.state.isFieldValidated},r.a.createElement(ee.a.Group,null,r.a.createElement(ee.a.Control,{name:"email",value:this.state.formData.email,type:"email",placeholder:"Email",required:!0,onChange:this.handleFormInputChange}),r.a.createElement(ee.a.Control.Feedback,{type:"invalid"},"Incorrect email format.")),r.a.createElement(ee.a.Group,null,r.a.createElement(ee.a.Control,{name:"password",value:this.state.formData.password,type:"password",placeholder:"Password",required:!0,onChange:this.handleFormInputChange}),r.a.createElement(ee.a.Control.Feedback,{type:"invalid"},"Password is required.")),this.state.authFailed&&r.a.createElement(Y.a,{className:"pt-2 text-center"},r.a.createElement($.a,null,r.a.createElement("div",{className:"alert alert-danger",role:"alert"},"Wrong email or password."))),r.a.createElement(Y.a,{className:"pt-3 pb-3 text-center"},r.a.createElement($.a,null,r.a.createElement(X.a,{variant:"outline-info",onClick:this.handleHideSignInModal},"Back")),r.a.createElement($.a,null,r.a.createElement(X.a,{variant:"outline-info",disabled:!this.state.isFormValid,onClick:this.handleSignIn},"Ok"))))))}}]),t}(n.Component),le=function(e){function t(e){var a;return Object(d.a)(this,t),(a=Object(V.a)(this,Object(U.a)(t).call(this,e))).handleLogoClick=function(){a.props.resetFilters(a.props.filters),a.props.filterPosts(a.props.posts,{tags:[],dates:[],searchValue:""})},a.handleSignInClick=function(){a.props.auth.isSignedIn?a.props.signOut():a.setState({signInModalShow:!0})},a.handleHideSignInModal=function(){a.setState({signInModalShow:!1})},a.handleMobileMenuClick=function(){var e=document.querySelector(".side-panel"),t=a.state.mobileMenuVisible,n=document.querySelector(".mobile-menu-button");t?(e.classList.remove("slide-in-left"),e.classList.add("slide-in-left-rev"),setTimeout(function(){e.classList.add("d-none"),e.classList.add("d-lg-block")},250),n.classList.remove("rotate-90-cw"),n.classList.add("rotate-90-cw-reverse")):(e.classList.remove("slide-in-left-rev"),e.classList.add("slide-in-left"),e.classList.remove("d-none"),e.classList.remove("d-lg-block"),n.classList.remove("rotate-90-cw-reverse"),n.classList.add("rotate-90-cw")),t=!t,a.setState(Object(u.a)({},a.state,{mobileMenuVisible:t}))},a.handleThemeChange=function(){var e=document.querySelector("body"),t=a.state.isNightMode;t?e.classList.remove("night-mode"):e.classList.add("night-mode"),t=!t,a.setState(Object(u.a)({},a.state,{isNightMode:t}))},a.state={signInModalShow:!1,mobileMenuVisible:!1,isNightMode:!1},a}return Object(q.a)(t,e),Object(j.a)(t,[{key:"render",value:function(){var e=this.props.auth.isSignedIn;return r.a.createElement(Z.a,{className:"sticky-top"},r.a.createElement(Q.a,{className:"d-flex flex-wrap align-items-center"},r.a.createElement(X.a,{className:"d-lg-none order-0 mr-1",variant:"outline-info",onClick:this.handleMobileMenuClick},r.a.createElement("i",{className:"mobile-menu-button fas fa-bars"})),r.a.createElement(K.a,{className:"navbar-brand order-1",to:qe+"/",onClick:this.handleLogoClick},r.a.createElement(X.a,{variant:"outline-info",className:"d-sm-none d-block"},r.a.createElement("i",{className:"fas fa-home"})),r.a.createElement("span",{className:"d-none d-sm-block"},"John's blog")),r.a.createElement(ae,{posts:this.props.posts,filters:this.props.filters,filterPosts:this.props.filterPosts,handleSearchInput:this.props.handleSearchInput}),e&&r.a.createElement("div",{className:"order-5 flex-fill ml-2 pl-1 pl-lg-0 ml-lg-0 mt-1 mt-lg-0"},"Hello, "+this.props.auth.displayName+"!"),e&&r.a.createElement(K.a,{className:"order-6 mt-1 mt-lg-0",to:qe+"/addpost"},r.a.createElement(X.a,{variant:"outline-info"},r.a.createElement("i",{className:"fas fa-pen-alt"}))),e&&r.a.createElement(K.a,{className:"order-7 ml-1 mt-1 mt-lg-0",to:qe+"/settings"},r.a.createElement(X.a,{variant:"outline-info"},r.a.createElement("i",{className:"fas fa-cogs"}))),r.a.createElement(X.a,{className:"theme-switcher order-3 order-sm-8 ml-1",variant:"outline-info",onClick:this.handleThemeChange},(this.state.isNightMode,r.a.createElement("i",{className:"fas fa-lightbulb"}))),r.a.createElement(K.a,{className:"order-4 order-sm-9 pl-1",to:qe},r.a.createElement(X.a,{variant:"outline-info",onClick:this.handleSignInClick},e?r.a.createElement("div",null,r.a.createElement("span",{className:"d-none d-md-block"},"Sign out \xa0",r.a.createElement("i",{className:"fas fa-sign-out-alt"})),r.a.createElement("span",{className:"d-md-none d-block"},r.a.createElement("i",{className:"fas fa-sign-out-alt"}))):r.a.createElement("div",null,r.a.createElement("span",{className:"d-none d-md-block"},"Sign in \xa0",r.a.createElement("i",{className:"fas fa-sign-in-alt"})),r.a.createElement("span",{className:"d-md-none d-block"},r.a.createElement("i",{className:"fas fa-sign-in-alt"}))))),r.a.createElement(se,{signInModalShow:this.state.signInModalShow,onSignInFormHide:this.handleHideSignInModal,auth:this.props.auth,signIn:this.props.signIn})))}}]),t}(n.Component),oe=function(e,t){return{type:"SIGNED_IN",isSignedIn:e,errorMessage:t}},ie=function(e,t){return{type:"FETCHED_USER_DATA",displayName:e,email:t}},ce={filterPosts:M,handleSearchInput:function(e){return{type:"HANDLE_SEARCH_INPUT",value:e}},resetFilters:function(e){return{type:"RESET_FILTERS",filters:e}},signIn:function(e,t){return function(a){return function(e,t){return b.a.auth().signInWithEmailAndPassword(e,t)}(e,t).then(function(){return a(oe(!0,""))}).then(function(){return function(){var e=b.a.auth().currentUser,t=e.email,a=e.displayName;return{name:null===a?I.getEmailPrefix(t):a,email:t}}()}).then(function(e){return a(ie(e.name,e.email))}).catch(function(e){return a(oe(!1,e.message))})}},signOut:function(){return function(e){return b.a.auth().signOut().then(function(){return e(oe(!1,""))}).then(function(){return e(ie("",""))})}}},me=Object(o.b)(function(e){return{posts:e.posts.data,filters:e.filters,auth:e.auth}},ce)(le),ue=function(e){function t(){return Object(d.a)(this,t),Object(V.a)(this,Object(U.a)(t).apply(this,arguments))}return Object(q.a)(t,e),Object(j.a)(t,[{key:"render",value:function(){return r.a.createElement(Q.a,{id:"about-me"},r.a.createElement("h3",{className:"pb-2"},"About Me"),r.a.createElement(Y.a,{className:"pb-3"},r.a.createElement("img",{src:"https://picsum.photos/200/?random",alt:"",className:"rounded float-left",height:"100"})),r.a.createElement(Y.a,{className:"pb-1"},r.a.createElement("h5",null,"John Smith")),r.a.createElement(Y.a,{className:"pb-1"},r.a.createElement("p",null,"Full-stack developer")),r.a.createElement(Y.a,{className:""},r.a.createElement("a",{href:"https://twitter.com/",target:"_blank",rel:"noopener noreferrer"},r.a.createElement("i",{className:"fab fa-twitter"})),r.a.createElement("a",{href:"https://facebook.com",target:"_blank",rel:"noopener noreferrer"},r.a.createElement("i",{className:"fab fa-facebook"})),r.a.createElement("a",{href:"https://linkedin.com",target:"_blank",rel:"noopener noreferrer"},r.a.createElement("i",{className:"fab fa-linkedin"})),r.a.createElement("a",{href:"https://github.com",target:"_blank",rel:"noopener noreferrer"},r.a.createElement("i",{className:"fab fa-github"}))))}}]),t}(n.Component),de=a(409),pe=function(e){function t(){var e,a;Object(d.a)(this,t);for(var n=arguments.length,s=new Array(n),l=0;l<n;l++)s[l]=arguments[l];return(a=Object(V.a)(this,(e=Object(U.a)(t)).call.apply(e,[this].concat(s)))).onTagClick=function(e,t){a.props.switchTagState(t),a.props.filterPosts(a.props.posts,a.props.filters),e.preventDefault()},a.Tags=function(){var e=a.props.filters.tags;return e.length>0?e.map(function(e){return r.a.createElement("div",{className:"mr-2 alert-link",key:e.name,onClick:function(t){return a.onTagClick(t,e.name)}},r.a.createElement(K.a,{to:qe+"/search"},e.name,e.state?r.a.createElement("i",{className:"far fa-check-square ml-2"}):r.a.createElement(de.a,{variant:"secondary",className:"ml-2"},e.quantity)))}):""},a}return Object(q.a)(t,e),Object(j.a)(t,[{key:"render",value:function(){return r.a.createElement(Q.a,null,r.a.createElement("div",null,r.a.createElement("h3",null,"Tags"),r.a.createElement("span",{className:"d-flex flex-wrap"},r.a.createElement(this.Tags,null))))}}]),t}(n.Component),he=function(e){function t(){var e,a;Object(d.a)(this,t);for(var n=arguments.length,s=new Array(n),l=0;l<n;l++)s[l]=arguments[l];return(a=Object(V.a)(this,(e=Object(U.a)(t)).call.apply(e,[this].concat(s)))).onDateClick=function(e,t,n){a.props.switchDateState({year:t,month:n}),a.props.filterPosts(a.props.posts,a.props.filters),e.preventDefault()},a.Dates=function(){var e=a.props.filters.dates;return e.length>0?e.map(function(e){return r.a.createElement("ul",{key:e.year,className:"list-unstyled"},r.a.createElement("div",{className:"alert-link",onClick:function(t){return a.onDateClick(t,e.year)}},r.a.createElement(K.a,{to:qe+"/search"},e.year,e.yearState?r.a.createElement("i",{className:"far fa-check-square ml-2"}):"")),e.months.map(function(t){return r.a.createElement("li",{key:t.name},r.a.createElement("div",{className:"alert-link",onClick:function(n){return a.onDateClick(n,e.year,t.name)}},r.a.createElement(K.a,{to:qe+"/search"},t.name,t.state?r.a.createElement("i",{className:"far fa-check-square ml-2"}):r.a.createElement(de.a,{variant:"secondary",className:"ml-2"},t.quantity))))}))}):""},a}return Object(q.a)(t,e),Object(j.a)(t,[{key:"render",value:function(){return r.a.createElement(Q.a,null,r.a.createElement("h3",null,"Archive posts"),r.a.createElement(this.Dates,null))}}]),t}(n.Component),fe=function(e){function t(){return Object(d.a)(this,t),Object(V.a)(this,Object(U.a)(t).apply(this,arguments))}return Object(q.a)(t,e),Object(j.a)(t,[{key:"render",value:function(){return r.a.createElement(Q.a,null,r.a.createElement(Y.a,{className:"pb-5"},r.a.createElement(ue,null)),r.a.createElement(Y.a,{className:"pb-5"},r.a.createElement(pe,{posts:this.props.posts,filters:this.props.filters,switchTagState:this.props.switchTagState,filterPosts:this.props.filterPosts})),r.a.createElement(Y.a,null,r.a.createElement(he,{posts:this.props.posts,filters:this.props.filters,switchDateState:this.props.switchDateState,filterPosts:this.props.filterPosts})),r.a.createElement("hr",{className:"pb-2 d-lg-none"}))}}]),t}(n.Component),Ee={filterPosts:M,switchDateState:function(e){return{type:"SWITCH_DATE_STATE",date:e}},switchTagState:function(e){return{type:"SWITCH_TAG",tagName:e}}},ge=Object(o.b)(function(e){return{posts:e.posts.data,filters:e.filters}},Ee)(fe),be=a(415),ve=function(e){function t(){return Object(d.a)(this,t),Object(V.a)(this,Object(U.a)(t).apply(this,arguments))}return Object(q.a)(t,e),Object(j.a)(t,[{key:"render",value:function(){var e=this.props.post,t=this.props.postURL;return r.a.createElement(be.a,{className:"mb-3"},r.a.createElement("div",{className:"row no-gutters"},r.a.createElement("div",{className:"col-md-3 d-flex flex-wrap align-items-center justify-content-center pt-4 pt-md-0"},r.a.createElement(K.a,{to:t},r.a.createElement("img",{src:e.mainImage,className:"card-img pl-3",alt:""}))),r.a.createElement("div",{className:"col-md-9"},r.a.createElement("div",{className:"card-body"},r.a.createElement(K.a,{to:t},r.a.createElement("h5",{className:"card-title"},e.title)),r.a.createElement("p",{className:"card-text text-justify"},e.shortDescription.substring(0,150)+"..."),r.a.createElement("span",{className:"card-text"},r.a.createElement(Y.a,null,r.a.createElement($.a,{className:"flex-fill"},r.a.createElement("p",{className:"text-muted mb-0"},e.author+", "+e.date.toLocaleString("pl-PL",{day:"numeric",month:"numeric",year:"numeric"})),r.a.createElement("p",{className:"text-muted mb-0"},e.tags.map(function(e){return r.a.createElement("span",{key:e,className:"pr-2"},e)}))),this.props.isSignedIn&&r.a.createElement($.a,{className:"align-self-center pt-3 pt-sm-0"},r.a.createElement("div",{className:"float-right"},r.a.createElement(K.a,{to:qe+"/editpost"},r.a.createElement(X.a,{className:"btn-sm",variant:"outline-primary",onClick:this.props.onEditPost},"Edit \xa0",r.a.createElement("i",{className:"fas fa-edit"}))),r.a.createElement(X.a,{variant:"outline-primary",className:"btn-sm ml-3",onClick:this.props.onRemovePost},"Remove \xa0",r.a.createElement("i",{className:"fas fa-trash-alt"}))))))))))}}]),t}(n.Component),ye=function(e){function t(){return Object(d.a)(this,t),Object(V.a)(this,Object(U.a)(t).apply(this,arguments))}return Object(q.a)(t,e),Object(j.a)(t,[{key:"render",value:function(){var e=this.props.post,t=this.props.postURL;return r.a.createElement(be.a,{id:"post-card-vertical",className:"mb-3"},r.a.createElement(K.a,{to:t},r.a.createElement("img",{src:e.mainImage,className:"card-img-top pt-3",alt:""})),r.a.createElement("div",{className:"card-body"},r.a.createElement(K.a,{to:t},r.a.createElement("h5",{className:"card-title"},e.title))),r.a.createElement("div",{className:"card-footer"},r.a.createElement("p",{className:"text-muted mb-0"},e.author+", "+e.date.toLocaleString("pl-PL",{day:"numeric",month:"numeric",year:"numeric"})),r.a.createElement("p",{className:"text-muted mb-0"},e.tags.map(function(e){return r.a.createElement("span",{key:e,className:"pr-2"},e)})),this.props.isSignedIn&&r.a.createElement($.a,{className:"align-self-center text-center pt-2"},r.a.createElement("div",null,r.a.createElement(K.a,{to:qe+"/editpost"},r.a.createElement(X.a,{className:"btn-sm",variant:"outline-primary",onClick:this.props.onEditPost},"Edit \xa0 ",r.a.createElement("i",{className:"fas fa-edit"}))),r.a.createElement(X.a,{variant:"outline-primary",className:"btn-sm ml-3",onClick:this.props.onRemovePost},"Remove \xa0 ",r.a.createElement("i",{className:"fas fa-trash-alt"}))))))}}]),t}(n.Component),Ne=function(e){function t(){var e,a;Object(d.a)(this,t);for(var n=arguments.length,s=new Array(n),l=0;l<n;l++)s[l]=arguments[l];return(a=Object(V.a)(this,(e=Object(U.a)(t)).call.apply(e,[this].concat(s)))).handleEditPost=function(){a.props.editedPostId(a.props.post.id)},a.handleRemovePost=function(){a.props.removePost(a.props.post.id)},a.HorizontalCard=function(e){return r.a.createElement(ve,{post:e.post,postURL:e.postURL,onEditPost:a.handleEditPost,onRemovePost:a.handleRemovePost,isSignedIn:e.isSignedIn})},a.VerticalCard=function(e){return r.a.createElement(ye,{post:e.post,postURL:e.postURL,onEditPost:a.handleEditPost,onRemovePost:a.handleRemovePost,isSignedIn:e.isSignedIn})},a}return Object(q.a)(t,e),Object(j.a)(t,[{key:"render",value:function(){var e=this.props.post,t=qe+"/post/id-"+e.id,a=this.props.isSignedIn;return"horizontal"===this.props.cardVersion?r.a.createElement(this.HorizontalCard,{post:e,postURL:t,isSignedIn:a}):r.a.createElement(this.VerticalCard,{post:e,postURL:t,isSignedIn:a})}}]),t}(n.Component),Oe={removePost:function(e){return function(t){(function(e){return y.collection("posts").doc(e).delete().catch(function(e){return new Error("Errow while removing post. Error message: ",e)})})(e).then(function(){return t(H())}).catch(function(e){return console.log(e)})}},editedPostId:function(e){return{type:"EDITED_POST_ID",postId:e}}},je=Object(o.b)(function(e){return{isSignedIn:e.auth.isSignedIn}},Oe)(Ne),we=a(65),Se=a.n(we),Ce=function(e){function t(){var e,a;Object(d.a)(this,t);for(var n=arguments.length,s=new Array(n),l=0;l<n;l++)s[l]=arguments[l];return(a=Object(V.a)(this,(e=Object(U.a)(t)).call.apply(e,[this].concat(s)))).PostCards=function(){return a.props.filteredPosts.map(function(e){return r.a.createElement(Se.a,{transitionName:"search-result",transitionAppear:!0,transitionAppearTimeout:750,transitionEnter:!1,transitionLeave:!1,key:e.id},r.a.createElement(je,{key:e.id,cardVersion:"horizontal",post:e}))})},a.EmptyResult=function(){return r.a.createElement("div",{className:"text-center pt-5"},r.a.createElement("div",{className:"pb-2"},r.a.createElement("h2",null,"Nothing here...")))},a}return Object(q.a)(t,e),Object(j.a)(t,[{key:"render",value:function(){return r.a.createElement(Q.a,{className:"pb-5"},0!==this.props.filteredPosts.length?r.a.createElement(this.PostCards,null):r.a.createElement(this.EmptyResult,null))}}]),t}(n.Component),Pe=function(e){function t(){var e,a;Object(d.a)(this,t);for(var n=arguments.length,s=new Array(n),l=0;l<n;l++)s[l]=arguments[l];return(a=Object(V.a)(this,(e=Object(U.a)(t)).call.apply(e,[this].concat(s)))).HeadPosts=function(){return r.a.createElement("div",{className:"card-deck"},a.props.filteredPosts.slice(0,t.headPostsNum).map(function(e){return r.a.createElement(je,{key:e.id,cardVersion:"vertical",post:e})}))},a.PostCards=function(){return a.props.filteredPosts.slice(t.headPostsNum).map(function(e){return r.a.createElement(je,{key:e.id,cardVersion:"horizontal",post:e})})},a}return Object(q.a)(t,e),Object(j.a)(t,[{key:"render",value:function(){return r.a.createElement(Q.a,{className:"pb-5"},r.a.createElement("h3",{className:"pb-3"},"Latest posts"),r.a.createElement(this.HeadPosts,null),r.a.createElement("hr",{className:"pb-2"}),r.a.createElement(this.PostCards,null))}}]),t}(n.Component);Pe.headPostsNum=2;var ke=Pe,Ie=function(e){function t(){return Object(d.a)(this,t),Object(V.a)(this,Object(U.a)(t).apply(this,arguments))}return Object(q.a)(t,e),Object(j.a)(t,[{key:"componentDidMount",value:function(){I.updateCodeSyntaxHighlighting()}},{key:"componentDidUpdate",value:function(){I.updateCodeSyntaxHighlighting()}},{key:"render",value:function(){var e=this,t=this.props.variant,a="final"===t?this.props.posts.find(function(t){return t.id===e.props.routeParamId}):this.props.tempPost,n=I.convertMarkdownToHtml(a.text);return r.a.createElement(Q.a,{id:"post"},"preview"===t&&r.a.createElement("div",null,r.a.createElement("h4",null,"Live preview"),r.a.createElement($.a,{sm:3,className:"pl-0"},r.a.createElement("hr",null))),r.a.createElement("h1",null,a.title),r.a.createElement("p",null,a.shortDescription),r.a.createElement("div",{className:"content",dangerouslySetInnerHTML:{__html:n}}),r.a.createElement($.a,{sm:3,className:"pl-0 float-right pb-5"},r.a.createElement("hr",{className:"mb-1"}),r.a.createElement("p",{className:"pt-2 mb-1 text-right"},a.author+", "+a.date.toLocaleString("pl-PL",{day:"numeric",month:"numeric",year:"numeric"})),r.a.createElement("p",{className:"text-right"},a.tags.map(function(e){return r.a.createElement("span",{key:e},e+" ")}))))}}]),t}(n.Component),De=function(e){function t(e){var a;return Object(d.a)(this,t),(a=Object(V.a)(this,Object(U.a)(t).call(this,e))).handleFinishEdit=function(){a.props.onFinishEditPost(new w(a.props.sourcePost.id,a.state.formData.title,a.state.formData.shortDescription,a.state.formData.text,a.props.authDisplayName,new Date,I.convertSentenceToTagsArray(a.state.formData.tags),a.state.formData.mainImage))},a.handleInputChange=function(e){var t=e.target.name,n=e.target.value,r=!0===e.target.checkValidity(),s=Object(u.a)({},a.state.formValidation);s[t]=r,a.setState(function(){return Object(u.a)({},a.state,{formData:Object(u.a)({},a.state.formData,Object(ne.a)({},t,n)),formValidation:s,isFormValid:Object.values(s).every(function(e){return!0===e}),isFieldValidated:!0})})},a.state={formData:{title:"",shortDescription:"",text:"",mainImage:"",tags:""},formValidation:{title:!1,shortDescription:!1,text:!1,mainImage:!1,tags:!1},isFormValid:!1,isFormValidated:!1},a.regex={imageURL:"^(?:http(s)?:\\/\\/)?[\\w.-]+(?:\\.[\\w\\.-]+)+[\\w\\-\\._~:\\/?#[\\]@!\\$&'\\(\\)\\*\\+,;=.]+(?:png|jpg|jpeg|gif|svg)+$",tags:"^[a-zA-Z0-9_ ]*$"},a}return Object(q.a)(t,e),Object(j.a)(t,[{key:"componentDidUpdate",value:function(e){var t=this.props.sourcePost;if(t!==e.sourcePost){var a=""!==t.title;this.setState(Object(u.a)({},this.state,{formData:{title:t.title,shortDescription:t.shortDescription,text:t.text,mainImage:t.mainImage,tags:I.convertTagsArrayToSentence(t.tags)},formValidation:{title:a,shortDescription:a,text:a,mainImage:a,tags:a},isFormValidated:a,isFormValid:a}))}}},{key:"render",value:function(){return r.a.createElement(Q.a,null,r.a.createElement("div",{className:"pb-4"},r.a.createElement("h5",{className:"pb-2"},"Let's write"),r.a.createElement(ee.a,{validated:this.state.isFieldValidated},r.a.createElement(ee.a.Group,null,r.a.createElement(ee.a.Control,{name:"title",value:this.state.formData.title,type:"text",placeholder:"Post title",required:!0,maxLength:"100",onChange:this.handleInputChange}),r.a.createElement(ee.a.Control.Feedback,{type:"invalid"},"This field is required. Max length is 100.")),r.a.createElement(ee.a.Group,null,r.a.createElement(ee.a.Control,{name:"shortDescription",as:"textarea",value:this.state.formData.shortDescription,placeholder:"Short description",required:!0,rows:"3",onChange:this.handleInputChange}),r.a.createElement(ee.a.Control.Feedback,{type:"invalid"},"This field is required.")),r.a.createElement(ee.a.Group,null,r.a.createElement(ee.a.Control,{name:"text",as:"textarea",value:this.state.formData.text,placeholder:"Post body",rows:"10",required:!0,onChange:this.handleInputChange}),r.a.createElement(ee.a.Control.Feedback,{type:"invalid"},"This field is required.")),r.a.createElement(ee.a.Group,null,r.a.createElement(ee.a.Control,{name:"mainImage",value:this.state.formData.mainImage,type:"text",placeholder:"Main image source. Ex. https://example.com/image.svg",pattern:this.regex.imageURL,required:!0,onChange:this.handleInputChange}),r.a.createElement(ee.a.Control.Feedback,{type:"invalid"},"This field is required. Ex. https://example.com/image.svg")),r.a.createElement(ee.a.Group,null,r.a.createElement(ee.a.Control,{name:"tags",value:this.state.formData.tags,type:"text",placeholder:"Tags. Ex. rust java scss",pattern:this.regex.tags,required:!0,onChange:this.handleInputChange}),r.a.createElement(ee.a.Control.Feedback,{type:"invalid"},"This field is required. Tags must be separated with space. Ex. rust java scss")),r.a.createElement(ee.a.Group,{className:"d-flex justify-content-end"},r.a.createElement(K.a,{to:qe},r.a.createElement(X.a,{variant:"outline-primary",disabled:!this.state.isFormValid,onClick:this.handleFinishEdit},"add"===this.props.variant?"Add":"Edit"))))),r.a.createElement(Ie,{variant:"preview",tempPost:new w(null,this.state.formData.title,this.state.formData.shortDescription,this.state.formData.text,this.props.authDisplayName,new Date,I.convertSentenceToTagsArray(this.state.formData.tags),null)}))}}]),t}(n.Component),xe=a(410),Te=function(e){function t(){return Object(d.a)(this,t),Object(V.a)(this,Object(U.a)(t).apply(this,arguments))}return Object(q.a)(t,e),Object(j.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"pb-4"},r.a.createElement("h5",{className:"pb-2 "},"Formatting options (only in Post body)"),r.a.createElement(xe.a,{bordered:!0},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Usage"),r.a.createElement("th",null,"Example"))),r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("td",null,"### header h3"),r.a.createElement("td",null,r.a.createElement("h3",null,"header h3"))),r.a.createElement("tr",null,r.a.createElement("td",null,"#### header h4"),r.a.createElement("td",null,r.a.createElement("h4",null,"header h4"))),r.a.createElement("tr",null,r.a.createElement("td",null,"*italics*"),r.a.createElement("td",null,r.a.createElement("em",null,"italics"))),r.a.createElement("tr",null,r.a.createElement("td",null,"**bold**"),r.a.createElement("td",null,r.a.createElement("strong",null,"bold"))),r.a.createElement("tr",null,r.a.createElement("td",null,"`code`"),r.a.createElement("td",null,r.a.createElement("code",null,"code"))),r.a.createElement("tr",null,r.a.createElement("td",null,r.a.createElement("p",null,"```"),r.a.createElement("p",null,"randomArrayItem = array..."),r.a.createElement("p",null,"array[Math.floor..."),r.a.createElement("p",null,"```")),r.a.createElement("td",null,r.a.createElement("pre",null,r.a.createElement("code",null,r.a.createElement("p",null,"randomArrayItem = array =>"),r.a.createElement("p",null,"\xa0\xa0array[Math.floor(Math.random() * array.length)];"))))),r.a.createElement("tr",null,r.a.createElement("td",null,"![alt text](url = 30x30)"),r.a.createElement("td",null,r.a.createElement("img",{alt:"Alt Text",src:"https://avatars.dicebear.com/v2/identicon/test.svg",width:"30",height:"30"}))),r.a.createElement("tr",null,r.a.createElement("td",null,"<http://www.example.com>"),r.a.createElement("td",null,r.a.createElement("a",{href:"http://www.example.com"},"http://www.example.com"))))))}}]),t}(n.Component),Fe=function(e){function t(e){var a;return Object(d.a)(this,t),(a=Object(V.a)(this,Object(U.a)(t).call(this,e))).handleShowFormattingHelp=function(){var e=a.state.showFormattingHelp;a.setState(Object(u.a)({},a.state,{showFormattingHelp:!e}))},a.handlePasteExample=function(){var e=!a.state.shouldClearPastedExample,t=I.generateExampleMarkdownPost(),n=e?t.title:"",r=e?t.shortDescription:"",s=e?t.text:"",l=e?t.randomImageSrc:"",o=e?t.tags:[];a.setState(Object(u.a)({},a.state,{shouldClearPastedExample:e})),a.props.onPasteExample({title:n,shortDescription:r,text:s,mainImage:l,tags:o})},a.Helper=function(){return r.a.createElement("div",{className:"pb-4"},r.a.createElement("h5",{className:"pb-1"},"Need a little help?"),r.a.createElement($.a,{className:"pb-4"},r.a.createElement(Y.a,{className:"pb-2 d-flex align-items-center"},r.a.createElement($.a,{sm:4,className:"pl-0"},r.a.createElement("span",null,"Formatting options:")),r.a.createElement($.a,{sm:2,className:"d-flex justify-content-end"},r.a.createElement(X.a,{className:"ml-2",variant:"outline-primary",onClick:a.handleShowFormattingHelp},a.state.showFormattingHelp?"Hide":"Show"))),"add"===a.props.variant?r.a.createElement(Y.a,{className:"d-flex align-items-center"},r.a.createElement($.a,{sm:4,className:"pl-0"},r.a.createElement("span",null,"Example post:")),r.a.createElement($.a,{sm:2,className:"d-flex justify-content-end"},r.a.createElement(X.a,{className:"ml-2",variant:"outline-primary",onClick:a.handlePasteExample},a.state.shouldClearPastedExample?"Clear":"Paste"))):""))},a.state={showFormattingHelp:!1,shouldClearPastedExample:!1},a}return Object(q.a)(t,e),Object(j.a)(t,[{key:"componentDidUpdate",value:function(){I.updateCodeSyntaxHighlighting()}},{key:"render",value:function(){return r.a.createElement(Q.a,null,r.a.createElement(this.Helper,null),this.state.showFormattingHelp&&r.a.createElement(Se.a,{transitionName:"search-result",transitionAppear:!0,transitionAppearTimeout:750,transitionEnter:!1,transitionLeave:!1},r.a.createElement(Te,null)))}}]),t}(n.Component),Ae=function(e){function t(e){var a;return Object(d.a)(this,t),(a=Object(V.a)(this,Object(U.a)(t).call(this,e))).handleAddPost=function(e){a.props.addPost(e)},a.handlePasteExample=function(e){e.id=C()(),a.setState({sourcePost:e})},a.state={sourcePost:{}},a}return Object(q.a)(t,e),Object(j.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.posts.editedPostId,t=this.props.posts.data.find(function(t){return t._id===e});"edit"===this.props.variant&&void 0!==t&&this.setState({sourcePost:t})}},{key:"render",value:function(){return r.a.createElement(Q.a,null,r.a.createElement("h4",null,"add"===this.props.variant?"Write new post!":"Edit your post."),r.a.createElement("hr",{className:"pb-3"}),r.a.createElement(Fe,{variant:this.props.variant,onPasteExample:this.handlePasteExample}),r.a.createElement(De,{authDisplayName:this.props.authDisplayName,sourcePost:this.state.sourcePost,variant:this.props.variant,onFinishEditPost:this.handleAddPost}))}}]),t}(n.Component),_e={addPost:function(e){return function(t){(function(e){return y.collection("posts").doc(e.id).set(I.jsPostObjToFirestoreObj(e)).catch(function(e){return new Error("Errow while adding post. Error message: ",e)})})(e).then(function(){return t(H())})}},filterPosts:M,unwrapTags:R,unwrapDates:L},Me=Object(o.b)(function(e){return{posts:e.posts,filters:e.filters,authDisplayName:e.auth.displayName}},_e)(Ae),Re=function(e){function t(){var e,a;Object(d.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(V.a)(this,(e=Object(U.a)(t)).call.apply(e,[this].concat(r)))).handleRemoveAllPosts=function(){console.log("handleRemoveAllPosts")},a.handleUserDataChange=function(){console.log("handleUserDataChange")},a}return Object(q.a)(t,e),Object(j.a)(t,[{key:"render",value:function(){return r.a.createElement(Q.a,null,r.a.createElement("h4",null,"Settings"),r.a.createElement("hr",{className:"pb-3"}),r.a.createElement("h5",{className:"pb-1"},"For debugging purposes"),r.a.createElement($.a,{className:"pb-5"},r.a.createElement(Y.a,{className:"pb-2 d-flex align-items-center"},r.a.createElement($.a,{sm:4,className:"pl-0"},r.a.createElement("span",null,"Remove all posts:")),r.a.createElement($.a,{sm:2,className:"d-flex justify-content-end"},r.a.createElement(X.a,{className:"ml-2",variant:"outline-primary",onClick:this.handleRemoveAllPosts},"Remove"))),r.a.createElement(Y.a,{className:"d-flex align-items-center"},r.a.createElement($.a,{sm:4,className:"pl-0"},r.a.createElement("span",null,"Generate new random posts:")),r.a.createElement($.a,{sm:2,className:"d-flex justify-content-end"},r.a.createElement(X.a,{className:"ml-2",variant:"outline-primary",onClick:this.handleRemoveAllPosts},"Generate")))),r.a.createElement("h5",{className:"pb-2"},"User data"),r.a.createElement(ee.a,null,r.a.createElement($.a,{sm:6,className:"pl-0"},r.a.createElement(ee.a.Group,null,r.a.createElement(ee.a.Control,{name:"displayName",type:"text",placeholder:"Name",required:!0,maxLength:"30"})),r.a.createElement(ee.a.Group,null,r.a.createElement(ee.a.Control,{name:"email",type:"email",placeholder:"Email",required:!0})),r.a.createElement(ee.a.Group,{className:"d-flex justify-content-end"},r.a.createElement(X.a,{variant:"outline-primary",onClick:this.handleUserDataChange},"Change")))))}}]),t}(n.Component),Le=Object(o.b)(function(e){return{state:e}})(Re),He=function(e){function t(e){var a;return Object(d.a)(this,t),(a=Object(V.a)(this,Object(U.a)(t).call(this,e))).ErrorContainer=function(){return r.a.createElement("div",{className:"text-center pt-5"},r.a.createElement("div",{className:"pb-2"},r.a.createElement("h2",null,"Error. Please reload the page."),r.a.createElement("h5",null,'Error message: "',a.state.error.message,'"')))},a.WaitContainer=function(){var e=a.waitMessages.findIndex(function(e){return e===a.state.waitMessage});return setTimeout(function(){a.setState({waitMessage:I.nextArrayItem(a.waitMessages,e)})},1e3),r.a.createElement("div",{className:"wait-container"},r.a.createElement("div",{className:"container text-center h-100 d-flex flex-column justify-content-center"},r.a.createElement(Y.a,{className:"wait-text"},r.a.createElement($.a,null,r.a.createElement("h2",{className:"mb-5"},a.state.waitMessage+"."))),r.a.createElement("div",{className:"box-loading"})))},a.MainContainer=function(){var e=a.props.isSignedIn;return r.a.createElement(W.a,null,r.a.createElement("div",null,r.a.createElement(me,null),r.a.createElement(Q.a,null,r.a.createElement(Y.a,{className:"pt-5"},r.a.createElement($.a,{md:3,className:"side-panel d-none d-lg-block"},r.a.createElement(ge,null)),r.a.createElement($.a,{sm:12,lg:9},r.a.createElement(z.a,null,r.a.createElement(J.a,{exact:!0,path:qe+"/",component:function(){return r.a.createElement(ke,{filteredPosts:a.props.filteredPosts})}}),r.a.createElement(J.a,{path:qe+"/search",component:function(){return r.a.createElement(Ce,{filteredPosts:a.props.filteredPosts})}}),r.a.createElement(J.a,{path:qe+"/post/id-:id",component:function(e){return r.a.createElement(Ie,{posts:a.props.posts.data,variant:"final",routeParamId:e.match.params.id})}}),e&&r.a.createElement(J.a,{path:qe+"/addpost",component:function(){return r.a.createElement(Me,{variant:"add"})}}),e&&r.a.createElement(J.a,{path:qe+"/editpost",component:function(){return r.a.createElement(Me,{variant:"edit"})}}),e&&r.a.createElement(J.a,{path:qe+"/settings",component:Le})))))))},a.waitMessages=["Feeding artificial intelligence","Decorating unattractive UI","Refactoring dirty code","Writing fake news","Patching security vulnerabilities"],a.state={error:null,waitMessage:I.randomArrayItem(a.waitMessages)},a}return Object(q.a)(t,e),Object(j.a)(t,[{key:"componentDidMount",value:function(){this.props.fetchPosts()}},{key:"componentDidUpdate",value:function(e){this.props.posts!==e.posts&&this.setState({error:this.props.posts.fetchingError})}},{key:"render",value:function(){return 0!==this.props.posts.data.length&&null===this.state.error?r.a.createElement(this.MainContainer,null):null!==this.state.error?r.a.createElement(this.ErrorContainer,null):r.a.createElement(this.WaitContainer,null)}}]),t}(n.Component),Ve={fetchPosts:H},Ue=Object(o.b)(function(e){return{posts:e.posts,filteredPosts:e.filteredPosts,isSignedIn:e.auth.isSignedIn}},Ve)(He);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(404);a.d(t,"PUBLIC_URL",function(){return qe});var qe="/react-redux-blog",Ge=Object(i.d)(_,Object(i.a)(c.a));l.a.render(r.a.createElement(o.a,{store:Ge},r.a.createElement(Ue,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[122,1,2]]]);
//# sourceMappingURL=main.1b9915d6.chunk.js.map